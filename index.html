<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>OfertasZ - Las mejores ofertas actualizadas</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-900 font-sans">

  <header class="bg-white shadow">
    <div class="max-w-4xl mx-auto px-4 py-6">
      <h1 class="text-3xl font-bold text-center">üì¶ OfertasZ</h1>
      <p class="text-center text-gray-500">Las mejores ofertas actualizadas autom√°ticamente</p>
    </div>
  </header>

  <main class="max-w-4xl mx-auto px-4 py-8">
    <div id="ofertas" class="grid gap-6"></div>
  </main>

  <footer class="text-center text-gray-400 text-sm py-6">
    Hecho con ‚ù§Ô∏è por OfertasZ - Automatizado con Google Sheets & IFTTT
  </footer>

  <!-- PapaParse para leer el CSV -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script>
    const SHEET_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTSE7fEFVv-U8Zu1egpFcgj28fSq5KOpaDPbLRCvYLpaM0ERCIvvTRAbXZ6-RzT0Q8SRF7MZoLDWU9y/pub?gid=0&single=true&output=csv"; // <-- Pega tu enlace CSV aqu√≠

    Papa.parse(SHEET_URL, {
      download: true,
      header: true,
      complete: function(results) {
        const container = document.getElementById("ofertas");

        if (!results.data || results.data.length === 0) {
          container.innerHTML = "<p class='text-center text-gray-500'>No hay ofertas disponibles por ahora.</p>";
          return;
        }

        results.data.forEach(oferta => {
          if (oferta.titulo && oferta.enlace) {
            const card = document.createElement("div");
            card.className = "bg-white rounded-xl shadow-md p-5 hover:shadow-lg transition";
            card.innerHTML = `
              <h2 class="text-xl font-semibold mb-2">${oferta.titulo}</h2>
              <p class="text-gray-600 mb-2">${oferta.descripcion || ""}</p>
              <p class="text-sm text-gray-400 mb-4">üóì ${oferta.fecha || ""}</p>
              <a href="${oferta.enlace}" target="_blank" class="inline-block bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition">Ver oferta</a>
            `;
            container.appendChild(card);
          }
        });
      },
      error: function(err) {
        console.error("Error al leer la hoja:", err);
      }
    });
  </script>
</body>
</html>
